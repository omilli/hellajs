---
title: cssVars
description: Define and inject CSS variables from JS objects.
layout: ../../../layouts/MainLayout.astro
---

# cssvars

Define and inject CSS variables from JS objects.

## API

```typescript
function cssVars(vars: Record<string, any>): Record<string, string>
```

**Parameters:**
- `vars`: A nested object of key-value pairs to be converted into CSS variables

**Returns:**
- An object with the same structure, where values are `var(--css-variable-name)` strings

**Functions:**
- `cssVarsReset()`: Resets the CSS variables system, removing the stylesheet

**Key Features:**
- Automatically flattens nested objects using kebab-case naming
- Injects variables into the `:root` selector
- Updates existing variables when called multiple times
- Preserves other CSS content in the variables stylesheet

## TypeScript

The function accepts nested objects and returns a flattened structure with `var()` references:

```typescript
const tokens = cssVars({
  colors: { 
    primary: 'blue',
    secondary: 'red' 
  },
  spacing: {
    small: '8px',
    medium: '16px'
  }
});

// Type: Record<string, string>
// tokens['colors-primary'] is now 'var(--colors-primary)'
// tokens['colors-secondary'] is now 'var(--colors-secondary)'
// tokens['spacing-small'] is now 'var(--spacing-small)'
```

**Flattening Rules:**
- Nested objects are flattened with kebab-case separators
- `{ colors: { primary: 'blue' } }` becomes `--colors-primary: blue`
- Arrays and primitive values are used as-is

## Basic Usage

Define your design tokens or theme as a JavaScript object. `cssVars` will flatten the keys and make them available globally.

```jsx
import { css, cssVars } from '@hellajs/css';

// 1. Define variables
const theme = cssVars({
  colors: {
    primary: 'hsl(210, 100%, 50%)',
    text: '#333',
  },
  spacing: '1rem',
});

// 2. Use them in your styles
const buttonStyle = css({
  backgroundColor: theme['colors-primary'],
  color: 'white',
  padding: theme.spacing,
});

<button class={buttonStyle}>Click Me</button>
```

This generates the following CSS:
```css
:root {
  --colors-primary: hsl(210, 100%, 50%);
  --colors-text: #333;
  --spacing: 1rem;
}
.c1 {
  background-color: var(--colors-primary);
  color: white;
  padding: var(--spacing);
}
```

## Key Concepts

**Variable Flattening**: Nested objects are flattened using kebab-case naming (`{ colors: { primary: 'blue' } }` becomes `--colors-primary: blue`).

**Global Scope**: All CSS variables are injected into the `:root` selector, making them available throughout your application.

**Dynamic Updates**: Multiple calls to `cssVars` update the same stylesheet, enabling runtime theme switching.

## Important Considerations

- **Overwrite Behavior**: Each call to `cssVars` completely overwrites the `:root` variables - merge objects manually if needed
- **Performance**: CSS variable updates trigger repaints - batch theme changes when possible
- **Naming Conflicts**: Be careful with nested object keys as they're flattened (`colors.primary` and `colors-primary` would conflict)
- **Browser Support**: CSS custom properties require modern browsers (IE 11 needs polyfills)
- **SSR Compatibility**: Variables are only available after client-side hydration

## Use Cases

**Theme Switching**:
```jsx
const lightTheme = cssVars({ colors: { bg: '#fff', text: '#000' } });
const darkTheme = cssVars({ colors: { bg: '#000', text: '#fff' } });

function toggleTheme(isDark) {
  return isDark ? darkTheme : lightTheme;
}
```

**Responsive Design Tokens**:
```jsx
const tokens = cssVars({
  spacing: { xs: '4px', sm: '8px', md: '16px' },
  breakpoints: { mobile: '768px', tablet: '1024px' }
});
```

**Component-Specific Variables**:
```jsx
const buttonVars = cssVars({
  button: { padding: '12px', radius: '4px' }
});

const Button = () => css({
  padding: buttonVars['button-padding'],
  borderRadius: buttonVars['button-radius']
});
```
