---
title: cssVars
description: Define and inject CSS variables from JS objects.
layout: ../../../layouts/MainLayout.astro
---

# cssvars

Define and inject CSS variables from JS objects.

## API

```typescript
function cssVars(vars: Record<string, any>): Record<string, string>
```

**Parameters:**
- `vars`: A nested object of key-value pairs to be converted into CSS variables

**Returns:**
- An object with the same structure, where values are `var(--css-variable-name)` strings

**Functions:**
- `cssVarsReset()`: Resets the CSS variables system, removing the stylesheet

**Key Features:**
- Automatically flattens nested objects using kebab-case naming
- Injects variables into the `:root` selector
- Updates existing variables when called multiple times
- Preserves other CSS content in the variables stylesheet

## TypeScript

The function accepts nested objects and returns a flattened structure with `var()` references:

```typescript
const tokens = cssVars({
  colors: { 
    primary: 'blue',
    secondary: 'red' 
  },
  spacing: {
    small: '8px',
    medium: '16px'
  }
});

// Type: Record<string, string>
// tokens['colors-primary'] is now 'var(--colors-primary)'
// tokens['colors-secondary'] is now 'var(--colors-secondary)'
// tokens['spacing-small'] is now 'var(--spacing-small)'
```

**Flattening Rules:**
- Nested objects are flattened with kebab-case separators
- `{ colors: { primary: 'blue' } }` becomes `--colors-primary: blue`
- Arrays and primitive values are used as-is

## Basic Usage

Define your design tokens or theme as a JavaScript object. `cssVars` will flatten the keys and make them available globally.

```jsx
import { css, cssVars } from '@hellajs/css';

// 1. Define variables
const theme = cssVars({
  colors: {
    primary: 'hsl(210, 100%, 50%)',
    text: '#333',
  },
  spacing: '1rem',
});

// 2. Use them in your styles
const buttonStyle = css({
  backgroundColor: theme['colors-primary'],
  color: 'white',
  padding: theme.spacing,
});

<button class={buttonStyle}>Click Me</button>
```

This generates the following CSS:
```css
:root {
  --colors-primary: hsl(210, 100%, 50%);
  --colors-text: #333;
  --spacing: 1rem;
}
.c1 {
  background-color: var(--colors-primary);
  color: white;
  padding: var(--spacing);
}
```

## Dynamic Themes

`cssVars` can be called multiple times to update variables, making it perfect for dynamic theming:

```jsx
// Initial theme
const lightTheme = {
  colors: {
    background: '#ffffff',
    text: '#000000',
    primary: '#007bff'
  }
};

const darkTheme = {
  colors: {
    background: '#1a1a1a',
    text: '#ffffff', 
    primary: '#4a9eff'
  }
};

// Set initial theme
let currentTokens = cssVars(lightTheme);

// Switch to dark theme
function toggleTheme(isDark) {
  currentTokens = cssVars(isDark ? darkTheme : lightTheme);
}

// Use the tokens in your styles
const appStyle = css({
  backgroundColor: currentTokens['colors-background'],
  color: currentTokens['colors-text']
});
```

## Variable Management

**Updating Variables:**
```jsx
// Initial variables
const theme = cssVars({ size: '16px' });

// Update with new values (overwrites :root completely)
cssVars({ size: '18px', color: 'blue' });
```

**Cleanup:**
```jsx
// Remove all CSS variables
cssVarsReset();
```
