---
title: cssVars
description: Define and inject CSS variables from JS objects.
layout: ../../../layouts/MainLayout.astro
---

# cssvars

Define and inject CSS variables from JS objects.

## API

```typescript
function cssVars(vars: Record<string, any>): Record<string, string>
```

**Parameters:**
- `vars`: A nested object of key-value pairs to be converted into CSS variables

**Returns:**
- An object with the same structure, where values are `var(--css-variable-name)` strings

**Functions:**
- `cssVarsReset()`: Resets the CSS variables system, removing the stylesheet

**Key Features:**
- Automatically flattens nested objects using kebab-case naming
- Injects variables into the `:root` selector
- Updates existing variables when called multiple times
- Preserves other CSS content in the variables stylesheet

## TypeScript

The function accepts nested objects and returns a flattened structure with `var()` references:

```typescript
const tokens = cssVars({
  colors: { 
    primary: 'blue',
    secondary: 'red' 
  },
  spacing: {
    small: '8px',
    medium: '16px'
  }
});

// Type: Record<string, string>
// tokens['colors-primary'] is now 'var(--colors-primary)'
// tokens['colors-secondary'] is now 'var(--colors-secondary)'
// tokens['spacing-small'] is now 'var(--spacing-small)'
```

**Flattening Rules:**
- Nested objects are flattened with kebab-case separators
- `{ colors: { primary: 'blue' } }` becomes `--colors-primary: blue`
- Arrays and primitive values are used as-is

## Basic Usage

Define your design tokens or theme as a JavaScript object. `cssVars` will flatten the keys and make them available globally.

```jsx
import { css, cssVars } from '@hellajs/css';

// 1. Define variables
const theme = cssVars({
  colors: {
    primary: 'hsl(210, 100%, 50%)',
    text: '#333',
  },
  spacing: '1rem',
});

// 2. Use them in your styles
const buttonStyle = css({
  backgroundColor: theme['colors-primary'],
  color: 'white',
  padding: theme.spacing,
});

<button class={buttonStyle}>Click Me</button>
```

This generates the following CSS:
```css
:root {
  --colors-primary: hsl(210, 100%, 50%);
  --colors-text: #333;
  --spacing: 1rem;
}
.c1 {
  background-color: var(--colors-primary);
  color: white;
  padding: var(--spacing);
}
```

## Key Concepts

### Variable Flattening

Nested objects are flattened using kebab-case naming (`{ colors: { primary: 'blue' } }` becomes `--colors-primary: blue`).

```typescript
const vars = cssVars({
  colors: { primary: 'blue', secondary: 'red' },
  spacing: { small: '8px' }
});
// Generates: --colors-primary, --colors-secondary, --spacing-small
// Access as: vars['colors-primary'], vars['colors-secondary'], vars['spacing-small']
```

### Global Scope

All CSS variables are injected into the `:root` selector, making them available throughout your application.

```typescript
cssVars({ brand: { color: '#007bff' } });
// Creates: :root { --brand-color: #007bff; }
// Available anywhere: var(--brand-color)
```

### Dynamic Updates

Multiple calls to `cssVars` update the same stylesheet, enabling runtime theme switching.

```typescript
const applyTheme = (isDark) => {
  cssVars({
    colors: {
      bg: isDark ? '#000' : '#fff',
      text: isDark ? '#fff' : '#000'
    }
  });
};
```

## Important Considerations

### Overwrite Behavior

Each call to `cssVars` completely overwrites the `:root` variables - merge objects manually if needed.

```jsx
// ❌ Second call overwrites first
cssVars({ colors: { primary: 'blue' } });
cssVars({ spacing: { small: '8px' } });
// ✅ Merge objects manually
const allVars = { colors: { primary: 'blue' }, spacing: { small: '8px' } };
cssVars(allVars);
```

### Naming Conflicts

Be careful with nested object keys as they're flattened.

```jsx
// ❌ Both create --colors-primary
cssVars({ colors: { primary: 'blue' } });
cssVars({ 'colors-primary': 'red' });
```

### Performance

CSS variable updates trigger repaints - batch theme changes when possible.

```jsx
// ❌ Multiple updates cause repaints
cssVars({ colors: { primary: 'blue' } });
cssVars({ colors: { secondary: 'red' } });
// ✅ Batch all changes together
cssVars({ colors: { primary: 'blue', secondary: 'red' } });
```

