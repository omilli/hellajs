---
title: mount
description: Renders components to the DOM.
---

Renders a component to the DOM.

``` jsx
import { signal } from '@hellajs/core';
import { mount } from '@hellajs/dom';

const Counter = () => {
  const count = signal(0);
  
  const increment = () => count(count() + 1);
  
  return (
    <button onclick={increment}>{count}</button>
  );
};

// Mount the App
mount(Counter, '#counter');
```

## API

```typescript
function mount(vNode: VNode | (() => VNode), rootSelector: string = "#app"): void
```

## Multiple Mounts

You can mount different components to separate DOM elements on the same page.

```jsx
mount(App, '#app');
mount(Widget, '#widget');
```

## Error Handling

Handle component errors during mounting.

```jsx
const SafeApp = () => {
  try {
    return <MyComponent />;
  } catch (error) {
    console.error('Component error:', error);
    return <div>Something went wrong</div>;
  }
};

mount(SafeApp, '#app');
```

## Best Practices

Keep components pure and handle side effects properly.

```jsx
// âœ… Good: Component handles its own state
const GoodComponent = () => {
  const data = signal(null);
  const loading = signal(true);
  
  // Effect runs once to load data
  effect(() => {
    fetchData().then(result => {
      data(result);
      loading(false);
    });
  });
  
  return loading() ? <div>Loading...</div> : <div>{data()}</div>;
};
```

## Element Lifecycle

Lifecycle are attached to DOM element itself, not the component function. This is a key distinction.

If you need to perform cleanup when a component is removed, attach an `onDestroy` handler to the root element of your component.

Lifecycle methods:
- `onUpdate`: Executed when an element's attribute or a child node is updated via a signal.
- `onDestroy`: Executed when an element is removed from the DOM.

```jsx
import { signal } from '@hellajs/core';
import { mount } from '@hellajs/dom';

const TimerComponent = () => {
  const count = signal(0);

  const interval = setInterval(() => {
    count(count() + 1);
  }, 1000);

  const cleanup = () => {
    console.log('Clearing interval');
    clearInterval(interval);
  };

  // Attach onDestroy to the root element
  return (
    <div onDestroy={cleanup}>
      Timer: {count}
    </div>
  );
};

// Mount the component
mount(TimerComponent, '#app');

// To see onDestroy in action, you would unmount or replace this component.
// For example, after 5 seconds:
setTimeout(() => {
  mount(() => <div>Component removed</div>, '#app');
}, 5000);
```

