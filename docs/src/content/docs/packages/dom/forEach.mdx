---
title: forEach
description: Loops through an array and renders a template for each item.
---

Loops through an array and renders a template for each item.

```jsx
import { signal } from '@hellajs/core';
import { forEach } from '@hellajs/dom';

const items = signal([1, 2, 3]);

<ul>
  {forEach(items, (item) =>
    <li>{item}</li>
  )}
</ul>
```

## API

```typescript
function forEach<T>(
  items: T[] | Signal<T[]> | (() => T[]),
  render: (item: T, index: number) => VNodeValue
): VNodeValue
```

## Tracking Keys

forEach optimizes list updates by tracking item identity through keys for efficient DOM updates.

Automatically detects keys from `id` or `key` properties, or you can provide them manually.

```jsx
const users = signal([
  { id: 1, name: 'Alice' },
  { id: 2, name: 'Bob' }
]);

// Automatic key detection from 'id'
<ul>
  {forEach(users, (user) =>
    <li>{user.name}</li>
  )}
</ul>

// Manual key via JSX prop
<ul>
  {forEach(users, (user) =>
    <li key={user.id}>{user.name}</li>
  )}
</ul>
```

## Array Updates

Use batch() when making multiple array changes to prevent unnecessary re-renders between updates.

Batch updates to the signal Array or array item signals to avoid unnecessary re-renders.

```jsx
import { batch } from '@hellajs/core';

const todos = signal([
  { id: 1, text: 'Buy milk', done: false }
]);

// Single update
todos([...todos(), { id: 2, text: 'Walk dog', done: false }]);

// Multiple updates - use batch() for efficiency
const handleBatchUpdate = () => {
  batch(() => {
    todos([...todos(), { id: 2, text: 'Walk dog', done: false }]);
    todos(todos().map(t => t.id === 1 ? { ...t, done: true } : t));
  });
};
```