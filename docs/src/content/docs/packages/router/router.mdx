---
title: router
description: Set up client-side routing with dynamic parameters, hooks, redirects, and 404 handling.
---

Initializes the client-side router. It takes a map of URL patterns and maps them to handler functions.

## API

```typescript
function router(
  routeMap: Record<string, RouteValue | string>,
  globalHooks?: RouterHooks & { hash?: boolean }
): RouteInfo
```
- `routeMap`: An object where keys are URL patterns and values are handlers, handler objects with hooks, or redirect strings.
- `globalHooks`: An optional configuration object for global hooks (`before`, `after`, `404`), redirects, and options like `hash: true` for hash-based routing.

## TypeScript

The router is fully typed, providing type inference for route parameters in your handlers.

```typescript
// `params` is automatically typed as { id: string }
router({
  '/users/:id': (params) => {
    console.log(params.id);
  }
});
```

## Basic Usage

Define your application's routes by providing a map of URL patterns to handler functions.

```typescript
import { router } from "@hellajs/router";

router({
  // Static route
  "/": () => renderHomePage(),
  
  // Dynamic route with a parameter
  "/users/:id": (params) => renderUserProfile(params.id),
  
  // Wildcard route
  "/files/*": (params) => renderFile(params['*']),
  
  // Route with query parameters
  "/search": (params, query) => renderSearch(query.q),
});
```

## Hooks and 404

You can define `before` and `after` hooks for individual routes or globally. A `404` handler can be provided for unmatched routes.

```typescript
const checkAuth = () => {
  if (!isLoggedIn()) {
    navigate('/login');
    return false; // Cancel navigation
  }
};

router({
  '/dashboard': {
    before: checkAuth,
    handler: () => renderDashboard(),
  }
}, {
  // Global hook that runs before every route change
  before: () => console.log('Navigating...'),
  
  // Handler for any route that doesn't match
  404: () => renderNotFoundPage(),
});
```

## Redirects

Redirects can be defined directly in the route map.

```typescript
router({
  // Redirect from /profile to /account
  '/profile': '/account',
  
  '/account': () => renderAccountPage(),
});
```