---
title: Creating Context
description: Learn how to use context for dependency injection and sharing state across component trees.
---

import { Aside, Card, CardGrid } from '@astrojs/starlight/components';

Context provides a way to share data across component trees without prop drilling. Perfect for themes, authentication, and global services.

## Creating Context

Create context with reactive stores or signals:

```jsx
import { signal } from '@hellajs/core';
import { store } from '@hellajs/store';

// Theme context
const ThemeContext = {
  theme: signal('light'),
  toggleTheme() {
    this.theme(this.theme() === 'light' ? 'dark' : 'light');
  }
};

// Auth context with store
const AuthContext = store({
  user: null,
  isLoggedIn: false,
  login(user) {
    this.user = user;
    this.isLoggedIn = true;
  },
  logout() {
    this.user = null;
    this.isLoggedIn = false;
  }
});
```

## Provider Pattern

Share context through the component tree:

```jsx
const App = () => {
  return (
    <ThemeProvider>
      <AuthProvider>
        <Router>
          <Routes />
        </Router>
      </AuthProvider>
    </ThemeProvider>
  );
};

const ThemeProvider = ({ children }) => {
  // Theme context is available to all children
  window.ThemeContext = ThemeContext;
  return children;
};

const AuthProvider = ({ children }) => {
  // Auth context is available to all children
  window.AuthContext = AuthContext;
  return children;
};
```

## Consuming Context

Use context in components:

```jsx
const Header = () => {
  const theme = window.ThemeContext;
  const auth = window.AuthContext;

  return (
    <header class={`header theme-${theme.theme()}`}>
      <h1>My App</h1>
      <div>
        <button onclick={() => theme.toggleTheme()}>
          {theme.theme() === 'light' ? 'üåô' : '‚òÄÔ∏è'}
        </button>
        {auth.isLoggedIn ? (
          <div>
            Welcome, {auth.user.name}!
            <button onclick={() => auth.logout()}>Logout</button>
          </div>
        ) : (
          <button onclick={() => auth.login({ name: 'John' })}>Login</button>
        )}
      </div>
    </header>
  );
};
```

## Advanced Context Patterns

### Multiple Contexts

```jsx
// contexts/index.js
import { signal } from '@hellajs/core';
import { store } from '@hellajs/store';

export const contexts = {
  theme: {
    current: signal('light'),
    toggle() {
      this.current(this.current() === 'light' ? 'dark' : 'light');
    }
  },
  
  notifications: store({
    items: [],
    add(message, type = 'info') {
      this.items.push({ id: Date.now(), message, type });
    },
    remove(id) {
      this.items = this.items.filter(item => item.id !== id);
    }
  })
};

// Make globally available
window.contexts = contexts;
```

## Related Concepts

<CardGrid>
  <Card title="üìä State" icon="chart">
    Learn [state management](/learn/concepts/state) patterns that work with context.
  </Card>
  <Card title="üèóÔ∏è Components" icon="laptop">
    Understand how [components](/learn/concepts/components) consume context.
  </Card>
  <Card title="üîÑ Reactivity" icon="rocket">
    Master [reactive primitives](/learn/concepts/reactivity) for context data.
  </Card>
</CardGrid>