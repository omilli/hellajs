---
title: Unit Testing
description: How to unit test HellaJS components and reactive logic
---

# Unit Testing

Unit tests focus on testing the smallest parts of your application in isolation. In HellaJS, this typically means testing a single component or a set of reactive primitives.

## Testing Reactive Logic

You can test signals and computed values without any rendering.

```javascript
import { signal, computed } from '@hellajs/core';
import { expect } from 'chai';

describe('Counter Logic', () => {
  it('should increment and decrement', () => {
    const count = signal(0);
    
    const increment = () => count(count() + 1);
    const decrement = () => count(count() - 1);

    expect(count()).to.equal(0);
    
    increment();
    expect(count()).to.equal(1);

    decrement();
    expect(count()).to.equal(0);
  });

  it('should derive computed values', () => {
    const count = signal(5);
    const doubled = computed(() => count() * 2);

    expect(doubled()).to.equal(10);

    count(10);
    expect(doubled()).to.equal(20);
  });
});
```

## Testing Components

Use a library like `@testing-library/dom` to render your components to a test DOM and make assertions about the output.

```jsx
import { signal } from '@hellajs/core';
import { mount } from '@hellajs/dom';
import { render, fireEvent, screen } from '@testing-library/dom';
import { expect } from 'chai';

// The component to test
const Counter = () => {
  const count = signal(0);
  return (
    <div>
      <p>Count: {count}</p>
      <button onclick={() => count(count() + 1)}>Increment</button>
    </div>
  );
};

describe('Counter Component', () => {
  it('should render and update', () => {
    // Render the component to the test DOM
    render(Counter());

    // Check initial state
    expect(screen.getByText('Count: 0')).to.exist;

    // Simulate a user click
    fireEvent.click(screen.getByText('Increment'));

    // Check that the reactive update happened
    expect(screen.getByText('Count: 1')).to.exist;
  });
});
```
Note: The `render` function from `@testing-library/dom` needs a DOM element. HellaJS components return VNodes. You'll need a small test utility to handle mounting.

```javascript
// test-utils.js
import { mount } from '@hellajs/dom';

export function renderInContainer(Component) {
  const container = document.createElement('div');
  document.body.appendChild(container);
  mount(Component, container);
  
  const cleanup = () => {
    document.body.removeChild(container);
  };

  return { container, cleanup };
}
```
Then in your test:
```jsx
// ...
it('should render and update', () => {
    const { container, cleanup } = renderInContainer(Counter);
    
    // Use container to query elements
    expect(container.querySelector('p').textContent).to.equal('Count: 0');

    fireEvent.click(container.querySelector('button'));

    expect(container.querySelector('p').textContent).to.equal('Count: 1');

    cleanup();
});
```
This is a simplified example. A more robust solution would integrate with `@testing-library/dom`'s `render` options.
