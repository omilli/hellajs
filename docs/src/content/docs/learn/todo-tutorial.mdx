---
title: Todo Tutorial
description: build a simple Todo app with HellaJS using a few core concepts.
---

import { Aside } from '@astrojs/starlight/components';

Build a simple Todo app using the following core concepts:
- Reactivity
- Templating
- Events

## Setup

Create a new Vite project and add HellaJS:

```bash
npm create vite@latest my-todo-app -- --template vanilla
cd my-todo-app
npm install
```

Install HellaJS packages and the Vite plugin:

```bash
npm install @hellajs/core @hellajs/dom
npm install --save-dev vite-plugin-hellajs
```

Configure Vite by creating or updating `vite.config.js`:

```js
import { defineConfig } from 'vite';
import viteHellaJS from 'vite-plugin-hellajs';

export default defineConfig({
  plugins: [viteHellaJS()]
});
```

<Aside type="tip">
  For TypeScript projects, use `--template vanilla-ts` and ensure your `tsconfig.json` includes:
  ```json
  "compilerOptions": {
    // other options...
    "jsx": "preserve",
    "types": ["@hellajs/dom"]
  }
  ```
</Aside>


Start the development server:

```bash
npm run dev
```

## Reactivity

Replace the contents of `main.js` with your Todo app. Start by creating signals to hold our todos and input value. We don't need to import `computed` when creating or derived signals inside a component, just wrap the logic in a function.

```jsx
import { signal, effect } from "@hellajs/core";

function Todo() {
  const todos = signal([]);
  const inputValue = signal("");

  const todoCount = () => todos().length;
  const hasTodos = () => todoCount() > 0;
  const isDisabled = () => inputValue() === "";

  effect(() => {
    console.log("Todo count:", todoCount());
  });

  // ...rest of the code will go here...
}
```

Now let's create some functions to `setInput` and `addTodo`. For this simple example we're not doing any extra checks like checking for duplicate todos or null event targets.

```jsx
// ....continued...

const setInput = (event) => {
  inputValue(event.target.value);
};

const addTodo = () => {
  todos([...todos(), inputValue()]);
  inputValue("");
};
```

## Templating

For dynamic attributes and text, use curly braces and functions, but don't call them directly. HellaJS will automatically track dependencies and update the DOM when the values change.

```jsx
// ...continued...

return (
  {/* ⚠️ Attach functions for reactivity, don't call them */}
  <div>
    <p>Todo List ({todoCount})</p>
    <div>
      <input
        type="text"
        value={inputValue}
        onInput={setInput}
      />
      <button onclick={addTodo} disabled={isDisabled}>
        Add
      </button>
    </div>
    {() => hasTodos() ? (
      <ul>
        {forEach(todos, (todo) => (
          <li>{todo}</li>
        ))}
      </ul>
    ) : (
      <div>No todos yet!</div>
    )}
  </div>
);
```

## Mounting

The Vite template includes an `index.html` with a `<div id="app"></div>` element. Add [mount](/packages/dom/mount/) to your imports and pass the `Todo` function reference:

```jsx
import { mount } from "@hellajs/dom";

function Todo() {
  // Todo implementation...
}

mount(Todo, '#app');
```

## Full Example

```jsx
import { signal, effect } from "@hellajs/core";
import { mount } from "@hellajs/dom";

function Todo() {
  const todos = signal([]);
  const inputValue = signal("");

  const todoCount = () => todos().length;
  const hasTodos = () => todoCount() > 0;
  const isDisabled = () => inputValue() === "";

  effect(() => {
    console.log("Todo count:", todoCount());
  });

  const setInput = (event) => {
    inputValue(event.target.value);
  };

  const addTodo = () => {
    todos([...todos(), inputValue()]);
    inputValue("");
  };

  return (
    {/* ⚠️ Attach functions for reactivity, don't call them */}
    <div>
      <p>Todo List ({todoCount})</p>
      <div>
        <input
          type="text"
          value={inputValue}
          onInput={setInput}
        />
        <button onclick={addTodo} disabled={isDisabled}>
          Add
        </button>
      </div>
      {() => hasTodos() ? (
        <ul>
          {forEach(todos, (todo) => (
            <li>{todo}</li>
          ))}
        </ul>
      ) : (
        <div>No todos yet!</div>
      )}
    </div>
  );
}

mount(Todo, '#app');
```

