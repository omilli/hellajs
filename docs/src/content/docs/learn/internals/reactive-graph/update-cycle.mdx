---
title: Update Cycle
description: How changes propagate through the reactive graph.
---

# The Update Cycle

HellaJS ensures that updates are propagated efficiently and without glitches.

## The Process

1.  **Signal Write**: A signal is updated, e.g., `mySignal(newValue)`.
2.  **Marking Stale**: The signal iterates through its subscribers (effects and computeds) and marks them as "stale". If a subscriber is a computed, it recursively marks its own subscribers as stale.
3.  **Running Effects**: After the initial update transaction (which could be a `batch`), the system runs all the top-level effects that were marked as stale.
4.  **Pulling Updates**: When a stale effect runs, it may read a stale computed value. This triggers the computed to re-evaluate its own value, pulling in the new values from the signals it depends on.

This "pull"-based evaluation ensures that a computed is only ever re-evaluated if it is actually needed by an effect that is running.

## Batching

The `batch()` function collects all signal updates that happen within its callback. The stale-marking and effect-running process is deferred until the batch function completes, ensuring that a set of related updates only triggers one update cycle.
